{% extends "base.html" %}

{% block title %}Home | CRSD{% endblock %}

{% block content %}


<div class="layout">

    <!-- SIDEBAR -->
    <aside class="sidebar">
        <h2>CRSD</h2>
        <p>Cartographie Santé</p>

        <ul class="menu">
            <li class="menu-item active" data-title="Formulaire (Matrice)">
                Formulaire (Matrice)
            </li>
            <li class="menu-item" data-title="Tableau de bord">
                Tableau de bord
            </li>
            <li class="menu-item" data-title="Profil utilisateur">
                Profil utilisateur
            </li>
            <li class="menu-item" data-title="Cartes">
                Cartes
            </li>
        </ul>
    </aside>

    <!-- MAIN -->
    <main class="main-content">

        <!-- TOPBAR -->
        <div class="topbar">
            <div class="topbar-left">
                <h1 id="page-title">Bienvenue sur CRSD</h1>
            </div>

            <div class="topbar-center">
                <input type="text" placeholder="Rechercher..." />
            </div>

            <div class="topbar-right">
                <span class="user-org">
                    {{ current_user.organisation }}
                </span>

                <a href="{{ url_for('auth.logout') }}" class="logout-btn">
                    Se déconnecter
                </a>
            </div>
        </div>

        <!-- CONTENT -->
        <div class="content-area" id="content-area">
            <h2>Bienvenue sur CRSD</h2>
            <p>Sélectionnez un menu à gauche.</p>
        </div>

    </main>
</div>

<script>
document.querySelectorAll(".menu-item").forEach(item => {
    item.addEventListener("click", () => {
        document.querySelectorAll(".menu-item").forEach(i => i.classList.remove("active"));
        item.classList.add("active");

        document.getElementById("page-title").innerText = item.dataset.title;
        document.getElementById("content-area").innerHTML =
            `<h2>${item.dataset.title}</h2><p>Contenu en cours de développement…</p>`;
    });
});
</script>
{% endblock %}
